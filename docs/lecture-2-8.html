<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Basic Soil Science (SOIL 2125) Lecture Summaries - Spring 2024 - Lecture 2-8: Redoximorphic Features in Soils: Biochemical Processes and Implications</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lecture-3-1.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lecture-2-8.html">Unit 2: Soil Processes</a></li><li class="breadcrumb-item"><a href="./lecture-2-8.html">Lecture 2-8: Redoximorphic Features in Soils: Biochemical Processes and Implications</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Basic Soil Science (SOIL 2125) Lecture Summaries - Spring 2024</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SOIL 2125 Lecture Summaries</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Unit 2: Soil Processes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture-2-8.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lecture 2-8: Redoximorphic Features in Soils: Biochemical Processes and Implications</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Unit 3: Soil Genesis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture-3-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3.1: Soil Genesis and Soil Forming Factors: Theoretical Foundation and Development of Modern Theories of Soil Formation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture-3-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3-2: Soil Parent Materials: Formation, Distribution, and Implications for Minnesota Landscapes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture-3-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3-3: Soil Forming Factors - Climate, Organisms, Relief, and Time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lecture-3-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3-4: Soil Horizon Nomenclature and Profile Descriptions</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#redox-reactions" id="toc-redox-reactions" class="nav-link" data-scroll-target="#redox-reactions">Redox Reactions</a></li>
  <li><a href="#electron-acceptors-and-anaerobic-conditions" id="toc-electron-acceptors-and-anaerobic-conditions" class="nav-link" data-scroll-target="#electron-acceptors-and-anaerobic-conditions">Electron Acceptors and Anaerobic Conditions</a></li>
  <li><a href="#iron-reduction-and-soil-color-changes" id="toc-iron-reduction-and-soil-color-changes" class="nav-link" data-scroll-target="#iron-reduction-and-soil-color-changes">Iron Reduction and Soil Color Changes</a></li>
  <li><a href="#iron-oxidation-and-redoximorphic-features" id="toc-iron-oxidation-and-redoximorphic-features" class="nav-link" data-scroll-target="#iron-oxidation-and-redoximorphic-features">Iron Oxidation and Redoximorphic Features</a></li>
  <li><a href="#hydric-soils-and-wetland-delineation" id="toc-hydric-soils-and-wetland-delineation" class="nav-link" data-scroll-target="#hydric-soils-and-wetland-delineation">Hydric Soils and Wetland Delineation</a></li>
  <li><a href="#septic-system-design" id="toc-septic-system-design" class="nav-link" data-scroll-target="#septic-system-design">Septic System Design</a></li>
  <li><a href="#other-implications" id="toc-other-implications" class="nav-link" data-scroll-target="#other-implications">Other Implications</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lecture-2-8.html">Unit 2: Soil Processes</a></li><li class="breadcrumb-item"><a href="./lecture-2-8.html">Lecture 2-8: Redoximorphic Features in Soils: Biochemical Processes and Implications</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Lecture 2-8: Redoximorphic Features in Soils: Biochemical Processes and Implications</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Redoximorphic features are color patterns observed in soils that have undergone oxidation-reduction (redox) reactions, primarily involving iron (Fe). These features provide valuable insights into the soil’s hydrological conditions, such as saturation, flooding, or ponding, and have significant implications for various applications, including septic system design and wetland delineation. This lecture summary will delve into the biochemical processes responsible for the formation of redoximorphic features and their practical significance in soil science.</p>
</section>
<section id="redox-reactions" class="level2">
<h2 class="anchored" data-anchor-id="redox-reactions">Redox Reactions</h2>
<p>Redox reactions involve the transfer of electrons between two chemical species. Oxidation is the loss of electrons (OIL: Oxidation Is Loss), while reduction is the gain of electrons (RIG: Reduction Is Gain). Aerobic respiration, a crucial process for many organisms including soil microbes, is a redox reaction where organic matter (reduced carbon compounds) is oxidized to CO2, and oxygen (O2) is reduced to water (H2O). The chemical energy released during this process is used to synthesize ATP.</p>
</section>
<section id="electron-acceptors-and-anaerobic-conditions" class="level2">
<h2 class="anchored" data-anchor-id="electron-acceptors-and-anaerobic-conditions">Electron Acceptors and Anaerobic Conditions</h2>
<p>In aerobic soils, oxygen serves as the primary electron acceptor due to its high electronegativity and ability to accept electrons from various atoms and molecules. However, in saturated soils, oxygen becomes depleted, leading to anaerobic conditions. Under such circumstances, facultative anaerobic microorganisms utilize alternative electron acceptors in a sequence determined by the energy yield: nitrate (NO3-), manganese (Mn4+), iron (Fe3+), sulfate (SO42-), and carbon dioxide (CO2).</p>
</section>
<section id="iron-reduction-and-soil-color-changes" class="level2">
<h2 class="anchored" data-anchor-id="iron-reduction-and-soil-color-changes">Iron Reduction and Soil Color Changes</h2>
<p>Iron reduction is a critical process in the formation of redoximorphic features. Iron exists in two oxidation states: oxidized (Fe3+) and reduced (Fe2+). In aerobic soils, Fe3+ forms stable iron oxides, contributing to the soil’s reddish, yellowish, or brownish colors. However, under anaerobic conditions, certain microbes utilize Fe3+ as an electron acceptor, reducing it to Fe2+. This process requires the presence of organic matter as an energy source and temperatures above 5°C for optimal microbial activity.</p>
<p>As Fe3+ is reduced to Fe2+, the iron oxide coatings on soil mineral grains dissolve, revealing the underlying grayish colors of the mineral grains (e.g., quartz, kaolinite). This color change is a key indicator of iron reduction and prolonged soil saturation.</p>
</section>
<section id="iron-oxidation-and-redoximorphic-features" class="level2">
<h2 class="anchored" data-anchor-id="iron-oxidation-and-redoximorphic-features">Iron Oxidation and Redoximorphic Features</h2>
<p>When a reduced soil is re-exposed to oxygen, Fe2+ is abiotically oxidized back to Fe3+, forming new iron oxide coatings. However, this oxidation process occurs in a non-uniform manner, resulting in the formation of redoximorphic features:</p>
<ol type="1">
<li>Redox concentrations: Localized areas with high iron content, appearing as reddish, brownish, or yellowish patches.</li>
<li>Redox depletions: Areas depleted in iron, characterized by grayish or whitish colors.</li>
</ol>
<p>These features are indicative of fluctuating water tables and alternating periods of soil saturation and aeration.</p>
</section>
<section id="hydric-soils-and-wetland-delineation" class="level2">
<h2 class="anchored" data-anchor-id="hydric-soils-and-wetland-delineation">Hydric Soils and Wetland Delineation</h2>
<p>Redoximorphic features are essential for identifying hydric soils, which are soils that have formed under conditions of saturation, flooding, or ponding long enough to develop anaerobic conditions in the upper part. Hydric soils are a key indicator of wetland environments and are used in wetland delineation. The presence of specific redoximorphic features, such as depleted soil matrices (indicating groundwater movement) or gleyed soil matrices (suggesting stagnant water), provides valuable information about the soil’s hydrological regime.</p>
</section>
<section id="septic-system-design" class="level2">
<h2 class="anchored" data-anchor-id="septic-system-design">Septic System Design</h2>
<p>Understanding redoximorphic features is crucial for proper septic system design. Septic systems rely on the soil’s ability to treat wastewater through microbial processes. Soils with high water tables or shallow bedrock are unsuitable for conventional in-ground septic systems, as they may result in the surfacing of untreated wastewater. Soil scientists assess the presence and depth of redoximorphic features to determine the suitability of a site for septic system installation. In cases where conventional systems are not feasible, alternative designs, such as mound systems, may be recommended.</p>
</section>
<section id="other-implications" class="level2">
<h2 class="anchored" data-anchor-id="other-implications">Other Implications</h2>
<p>Redoximorphic features have implications beyond wetland delineation and septic system design. They can provide insights into soil drainage classes, which are important for agricultural management practices, such as irrigation and crop selection. Additionally, understanding redox processes in soils is crucial for predicting the fate and transport of nutrients and contaminants, as well as for assessing soil health and fertility.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Redoximorphic features in soils are the result of complex biochemical processes involving redox reactions, primarily focused on iron transformations. These features serve as indicators of soil hydrological conditions and have significant practical applications in various fields, including wetland delineation, septic system design, and agricultural management. By understanding the mechanisms behind the formation of redoximorphic features and their implications, soil scientists can make informed decisions and recommendations for sustainable land use and management practices.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="SOIL 2125 Lecture Summaries">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">SOIL 2125 Lecture Summaries</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./lecture-3-1.html" class="pagination-link" aria-label="Lecture 3.1: Soil Genesis and Soil Forming Factors: Theoretical Foundation and Development of Modern Theories of Soil Formation">
        <span class="nav-page-text">Lecture 3.1: Soil Genesis and Soil Forming Factors: Theoretical Foundation and Development of Modern Theories of Soil Formation</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>